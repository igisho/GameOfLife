export type ThemeName = 'dark' | 'light' | 'matrix' | 'solarized' | 'neon';

export const THEMES: Record<ThemeName, Record<string, string>> = {
  dark: {
    '--bg': '#0b0d10',
    '--text': '#e8eef6',
    '--panel': '#111620',
    '--panel-border': '#1b2332',
    '--control': '#1b2a44',
    '--control-hover': '#223456',
    '--control-border': '#294066',
    '--primary': '#2a5bd7',
    '--primary-hover': '#2a63ef',
    '--danger': '#3a1b1f',
    '--danger-border': '#5b2630',
    '--danger-hover': '#4b2229',
    '--field': '#0e1420',
    '--canvas': '#0a0e15',
    '--pill-border': '#23314a',
    '--kbd-border': '#2b3b59',
    '--on-primary': '#ffffff',
    '--shadow-color': 'rgb(0 0 0 / 0.55)',
    '--scroll-thumb': 'rgb(255 255 255 / 0.14)',
    '--cell': '#e8eef6',
    '--anti-cell': '#ff4fd8',
    '--grid': '#2b3b59',
    '--wave-pos': '#7c9cff',
    '--wave-neg': '#ff4fd8',
  },
  light: {
    '--bg': '#f6f7fb',
    '--text': '#0b1220',
    '--panel': '#ffffff',
    '--panel-border': '#d6dbea',
    '--control': '#eef1fb',
    '--control-hover': '#e2e8fb',
    '--control-border': '#cfd7f4',
    '--primary': '#2a5bd7',
    '--primary-hover': '#214fcc',
    '--danger': '#ffd7dc',
    '--danger-border': '#ffb8c2',
    '--danger-hover': '#ffc4cc',
    '--field': '#f3f5ff',
    '--canvas': '#ffffff',
    '--pill-border': '#c8d0ea',
    '--kbd-border': '#9aa8d2',
    '--on-primary': '#ffffff',
    '--shadow-color': 'rgb(11 18 32 / 0.20)',
    '--scroll-thumb': 'rgb(11 18 32 / 0.20)',
    '--cell': '#0b1220',
    '--anti-cell': '#d6007f',
    '--grid': '#c5cbe0',
    '--wave-pos': '#2a5bd7',
    '--wave-neg': '#ff4fd8',
  },
  matrix: {
    '--bg': '#050a06',
    '--text': '#c7ffd6',
    '--panel': '#07110a',
    '--panel-border': '#0f2a17',
    '--control': '#0a1b10',
    '--control-hover': '#0e2a18',
    '--control-border': '#164a2a',
    '--primary': '#19b35a',
    '--primary-hover': '#1ed066',
    '--danger': '#2a0b12',
    '--danger-border': '#5a1a2a',
    '--danger-hover': '#3a0f18',
    '--field': '#06140c',
    '--canvas': '#030804',
    '--pill-border': '#1a5a33',
    '--kbd-border': '#1a5a33',
    '--on-primary': '#050a06',
    '--shadow-color': 'rgb(0 0 0 / 0.60)',
    '--scroll-thumb': 'rgb(199 255 214 / 0.14)',
    '--cell': '#35ff7a',
    '--anti-cell': '#19b35a',
    '--grid': '#0f3b21',
    '--wave-pos': '#35ff7a',
    '--wave-neg': '#19b35a',
  },
  solarized: {
    '--bg': '#002b36',
    '--text': '#eee8d5',
    '--panel': '#073642',
    '--panel-border': '#0b4a58',
    '--control': '#0a3b49',
    '--control-hover': '#0f4a5b',
    '--control-border': '#1b5663',
    '--primary': '#268bd2',
    '--primary-hover': '#2aa3f4',
    '--danger': '#5b1b1b',
    '--danger-border': '#7a2a2a',
    '--danger-hover': '#6a2020',
    '--field': '#06313b',
    '--canvas': '#00212b',
    '--pill-border': '#1b5663',
    '--kbd-border': '#1b5663',
    '--on-primary': '#00202a',
    '--shadow-color': 'rgb(0 0 0 / 0.55)',
    '--scroll-thumb': 'rgb(238 232 213 / 0.14)',
    '--cell': '#b8f3ff',
    '--anti-cell': '#cb4b16',
    '--grid': '#0b4a58',
    '--wave-pos': '#2aa3f4',
    '--wave-neg': '#cb4b16',
  },
  neon: {
    '--bg': '#070512',
    '--text': '#f2efff',
    '--panel': '#110a2a',
    '--panel-border': '#2a1b5a',
    '--control': '#1a0f3d',
    '--control-hover': '#23124f',
    '--control-border': '#3a2a7a',
    '--primary': '#ff4fd8',
    '--primary-hover': '#ff74e3',
    '--danger': '#2a0b1f',
    '--danger-border': '#5a1b45',
    '--danger-hover': '#3a0f2b',
    '--field': '#130c2e',
    '--canvas': '#060410',
    '--pill-border': '#3a2a7a',
    '--kbd-border': '#3a2a7a',
    '--on-primary': '#070512',
    '--shadow-color': 'rgb(0 0 0 / 0.65)',
    '--scroll-thumb': 'rgb(242 239 255 / 0.14)',
    '--cell': '#7cf7ff',
    '--anti-cell': '#ff4fd8',
    '--grid': '#2a1b5a',
    '--wave-pos': '#7cf7ff',
    '--wave-neg': '#ff4fd8',
  },
};

export function applyTheme(theme: ThemeName) {
  const vars = THEMES[theme] ?? THEMES.dark;
  for (const [key, value] of Object.entries(vars)) {
    document.documentElement.style.setProperty(key, value);
  }
}

export function readCssVar(name: string) {
  return getComputedStyle(document.documentElement).getPropertyValue(name).trim();
}
